name: M1 — MetaF Bootstrap & Installer
description: Tracking issue for M1 (MetaF Bootstrap & Installer)
title: M1 — MetaF Bootstrap & Installer
labels:
- milestone:M1
- area:bootstrap
- docs
- tests
body:
- type: textarea
  id: milestone_body
  attributes:
    label: Milestone issue body (prefilled)
    description: This field is prefilled so you can click Submit without typing. Edit
      as needed.
    value: "# M1 — MetaF Bootstrap & Installer\n\n## Goal\nEnable the application\
      \ to bootstrap and pin MetaF in an app‑owned cache. This milestone installs\
      \ MetaF using either a release ZIP or a dotnet publish, computes the canonical\
      \ `METAF_BUNDLE_SHA` manifest hash and persists bootstrap outputs in `config.yaml`.\
      \ The installer logs up to 50 attempts and avoids global system mutation.\n\n\
      ## In Scope\n- Validate bootstrap inputs and ensure required executables (`git`,\
      \ `dotnet`) exist for chosen install mode.\n- Download and install MetaF under\
      \ `APP_WORK_DIR`, either from a release ZIP or by building from a commit; compute\
      \ `METAF_BUNDLE_SHA` using the manifest algorithm.\n- Persist `METAF_ROOT_DIR`,\
      \ `METAF_EXE_PATH` and `METAF_BUNDLE_SHA` back into `config.yaml`.\n- Write\
      \ bootstrap logs under `APP_WORK_DIR\\logs\\bootstrap\\` and retain the most\
      \ recent 50 logs.\n- On bootstrap failure, perform one clean‑cache retry before\
      \ surfacing an error.\n- Ensure MetaF prerequisites are satisfied without mutating\
      \ global machine state and optionally provision an app‑managed `.NET` runtime\
      \ under `APP_WORK_DIR\\deps\\dotnet\\`.\n\n## Out of Scope\n- Conversion workflows\
      \ (`.met→.af` and `.af→.met`), mapping logic and Git operations.\n- Plan/Preview\
      \ generation and conflict handling.\n- Repair mapping and relink workflows.\n\
      \n## Milestone checklist\n\n### Acceptance criteria (DoD)\n- [ ] MetaF installs\
      \ successfully via both supported modes with computed `METAF_BUNDLE_SHA`.\n\
      - [ ] Bootstrap logs captured with retention limited to most recent 50 entries.\n\
      - [ ] `config.yaml` updated with installed paths and bundle hash.\n- [ ] Bootstrap\
      \ failure triggers a clean‑cache retry.\n- [ ] Installation does not alter system\
      \ PATH or registry.\n- [ ] AT‑0009, AT‑0010, AT‑0011, AT‑0012, AT‑0013 pass.\n\
      \n### Exit artifacts\n- [ ] Bootstrap installer binary and scripts.\n- [ ] Updated\
      \ config and manifest documentation.\n- [ ] Bootstrap test report with AT‑0009\
      \ through AT‑0013 results.\n- [ ] Changelog entry describing installation and\
      \ logging features.\n- [ ] Security review notes on external downloads.\n\n\
      ## Links / evidence\n- Spec sections: \n- Roadmap section: \n- Related issues/PRs:\
      \ \n\n## Notes / decisions\n"
  validations:
    required: true
- type: textarea
  id: blockers
  attributes:
    label: Blockers / risks
    description: What could stop this milestone? Include mitigation if known.
    placeholder: '- Blocker:

      - Risk:

      - Mitigation:'
  validations:
    required: false
- type: textarea
  id: pr_links
  attributes:
    label: PR links / commits
    description: Add links to PRs or commit SHAs implementing this milestone work.
    placeholder: '- PR:

      - Commit:'
  validations:
    required: false
